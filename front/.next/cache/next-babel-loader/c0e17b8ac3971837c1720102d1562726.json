{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HOME\\\\Documents\\\\ymillonga\\\\front\\\\components\\\\LoginForm.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Form, Input, Button, Checkbox, Row, Divider } from 'antd';\nimport Link from 'next/link';\nimport useInput from '../hooks/useInput';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { LOG_IN_REQUEST } from '../reducers/user';\nimport FacebookLoginBtn from './FacebookLoginBtn';\nimport GoogleLoginBtn from './GoogleLoginBtn';\nimport { useRouter } from 'next/router';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nvar LoginForm = function LoginForm() {\n  _s();\n\n  var Router = useRouter();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      logInLoading = _useSelector.logInLoading,\n      logInError = _useSelector.logInError,\n      me = _useSelector.me;\n\n  var dispatch = useDispatch();\n\n  var _useInput = useInput(''),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      email = _useInput2[0],\n      onChangeEmail = _useInput2[1];\n\n  var _useInput3 = useInput(''),\n      _useInput4 = _slicedToArray(_useInput3, 2),\n      password = _useInput4[0],\n      onChangePassword = _useInput4[1];\n\n  var _useState = useState(false),\n      basicButtonClicked = _useState[0],\n      setBasicButtonClicked = _useState[1];\n\n  useEffect(function () {\n    if (me && me.id) {\n      alert('로그인 중입니다. 메인페이지로 이동합니다.');\n      Router.replace('/'); //push는 뒤로가기 하면 히스토리가 남아있지만 replace는 지워짐\n    }\n  }, [me && me.id]);\n  useEffect(function () {\n    if (logInError) alert(logInError);\n  }, [logInError]);\n  var onClickBasicButton = useCallback(function () {\n    setBasicButtonClicked(true);\n  }, []);\n  var onSubmitForm = useCallback(function () {\n    if (basicButtonClicked) {\n      dispatch({\n        type: LOG_IN_REQUEST,\n        data: {\n          email: email,\n          password: password\n        }\n      });\n    }\n  }, [email, password, basicButtonClicked]);\n  return ___EmotionJSX(Form, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onSubmitForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    },\n    __self: _this\n  }, ___EmotionJSX(Form.Item, {\n    name: \"username\",\n    rules: [{\n      required: basicButtonClicked,\n      message: 'Please input your username!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    },\n    __self: _this\n  }, ___EmotionJSX(Input, {\n    prefix: ___EmotionJSX(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 32\n      },\n      __self: _this\n    }),\n    placeholder: \"Username\",\n    value: email,\n    onChange: onChangeEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    },\n    __self: _this\n  })), ___EmotionJSX(Form.Item, {\n    name: \"password\",\n    rules: [{\n      required: basicButtonClicked,\n      message: 'Please input your password!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    },\n    __self: _this\n  }, ___EmotionJSX(Input, {\n    prefix: ___EmotionJSX(LockOutlined, {\n      className: \"site-form-item-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      },\n      __self: _this\n    }),\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: onChangePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    },\n    __self: _this\n  })), ___EmotionJSX(Form.Item, {\n    justify: \"end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    },\n    __self: _this\n  }, ___EmotionJSX(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    },\n    __self: _this\n  }, ___EmotionJSX(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: logInLoading,\n    onClick: onClickBasicButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    },\n    __self: _this\n  }, \"\\uB85C\\uADF8\\uC778\"), ___EmotionJSX(Divider, {\n    type: \"vertical\",\n    style: {\n      border: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    },\n    __self: _this\n  }), ___EmotionJSX(Link, {\n    href: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    },\n    __self: _this\n  }, ___EmotionJSX(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 42\n    },\n    __self: _this\n  }, ___EmotionJSX(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 45\n    },\n    __self: _this\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"))))), ___EmotionJSX(Form.Item, {\n    justify: \"end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    },\n    __self: _this\n  }, ___EmotionJSX(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    },\n    __self: _this\n  }, ___EmotionJSX(GoogleLoginBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    },\n    __self: _this\n  }), ___EmotionJSX(FacebookLoginBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    },\n    __self: _this\n  }))));\n};\n\n_s(LoginForm, \"gGENaWsOWd/mEnJulZ0EXhVPR7A=\", false, function () {\n  return [useRouter, useSelector, useDispatch, useInput, useInput];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["C:/Users/HOME/Documents/ymillonga/front/components/LoginForm.js"],"names":["React","useEffect","useState","useCallback","Form","Input","Button","Checkbox","Row","Divider","Link","useInput","UserOutlined","LockOutlined","useSelector","useDispatch","LOG_IN_REQUEST","FacebookLoginBtn","GoogleLoginBtn","useRouter","LoginForm","Router","state","user","logInLoading","logInError","me","dispatch","email","onChangeEmail","password","onChangePassword","basicButtonClicked","setBasicButtonClicked","id","alert","replace","onClickBasicButton","onSubmitForm","type","data","remember","required","message","border"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Form, Input, Button, Checkbox, Row, Divider } from 'antd';\r\nimport Link from 'next/link';\r\nimport useInput from '../hooks/useInput';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { LOG_IN_REQUEST } from '../reducers/user';\r\nimport FacebookLoginBtn from './FacebookLoginBtn';\r\nimport GoogleLoginBtn from './GoogleLoginBtn';\r\nimport { useRouter } from 'next/router';\r\n\r\n\r\nconst LoginForm = () => {\r\n    const Router = useRouter();\r\n    const { logInLoading, logInError, me } = useSelector((state) => state.user);\r\n    const dispatch = useDispatch();\r\n    const [email, onChangeEmail] = useInput('');\r\n    const [password, onChangePassword] = useInput('');\r\n    const [basicButtonClicked, setBasicButtonClicked] = useState(false);\r\n    useEffect(() => {\r\n        if (me && me.id) {\r\n            alert('로그인 중입니다. 메인페이지로 이동합니다.');\r\n            Router.replace('/');//push는 뒤로가기 하면 히스토리가 남아있지만 replace는 지워짐\r\n        }\r\n    }, [me && me.id]);\r\n\r\n    useEffect(() => {\r\n        if (logInError) alert(logInError);\r\n    }, [logInError]);\r\n\r\n    const onClickBasicButton = useCallback(() => {\r\n        setBasicButtonClicked(true);\r\n    }, []);\r\n\r\n    const onSubmitForm = useCallback(() => {\r\n        if (basicButtonClicked) {\r\n            dispatch({\r\n                type: LOG_IN_REQUEST,\r\n                data: { email, password },\r\n            });\r\n        }\r\n    }, [email, password, basicButtonClicked]);\r\n\r\n\r\n    return (\r\n        <Form\r\n            name=\"basic\"\r\n            initialValues={{\r\n                remember: true,\r\n            }}\r\n            onFinish={onSubmitForm}\r\n        >\r\n            <Form.Item\r\n                name=\"username\"\r\n                rules={[\r\n                    {\r\n                        required: basicButtonClicked,\r\n                        message: 'Please input your username!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n                    placeholder=\"Username\"\r\n                    value={email}\r\n                    onChange={onChangeEmail} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[\r\n                    {\r\n                        required: basicButtonClicked,\r\n                        message: 'Please input your password!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input\r\n                    prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={onChangePassword}\r\n                />\r\n            </Form.Item>\r\n\r\n            {/* <Form.Item {...layout} name=\"remember\" valuePropName=\"checked\">\r\n                <Checkbox>Remember me</Checkbox>\r\n            </Form.Item> */}\r\n\r\n            <Form.Item justify=\"end\"  >\r\n                <Row>\r\n                    <Button type=\"primary\" htmlType=\"submit\"\r\n                        loading={logInLoading}\r\n                        onClick={onClickBasicButton}\r\n                    >\r\n                        로그인\r\n            </Button>\r\n                    <Divider type=\"vertical\" style={{ border: 'none' }} />\r\n                    <Link href=\"/signup\"><a><Button>\r\n                        회원가입\r\n            </Button></a></Link>\r\n                </Row>\r\n            </Form.Item>\r\n            <Form.Item justify=\"end\"  >\r\n                <Row>\r\n                    <GoogleLoginBtn />\r\n                    <FacebookLoginBtn />\r\n                </Row>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n\r\n\r\n};\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}