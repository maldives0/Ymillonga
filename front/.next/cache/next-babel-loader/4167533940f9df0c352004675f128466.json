{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport AppLayout from '../components/AppLayout';\nimport LoginForm from '../components/LoginForm';\nimport UserProfile from '../components/UserProfile';\nimport { useSelector } from 'react-redux';\nimport { END } from 'redux-saga';\nimport axios from 'axios';\nimport wrapper from '../store/configureStore';\nimport { LOAD_MY_INFO_REQUEST } from '../reducers/user';\nimport Router from 'next/router';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst Login = () => {\n  const me = useSelector(state => state.user.me);\n  useEffect(() => {\n    if (me && me.id) {\n      Router.replace('/');\n    }\n  }, [me]);\n  return ___EmotionJSX(AppLayout, null, me && me.id ? ___EmotionJSX(UserProfile, null) : ___EmotionJSX(LoginForm, null));\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps(async context => {\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n\n  if (context.req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n\n  context.store.dispatch({\n    type: LOAD_MY_INFO_REQUEST\n  });\n  context.store.dispatch(END);\n  await context.store.sagaTask.toPromise();\n});\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}