{"ast":null,"code":"import axios from 'axios';\n\nconst passport = require('passport');\n\nexport default function handler(req, res) {\n  passport.authenticate('google', (err, user, info) => {\n    if (err) {\n      console.error(err);\n      return next(err);\n    }\n\n    if (info) {\n      return res.status(401).send(info.reason);\n    }\n\n    return req.login(user, async loginErr => {\n      if (loginErr) {\n        console.error(loginErr);\n        return next(loginErr);\n      }\n\n      console.log(user); // axios.post();\n    });\n  });\n}","map":{"version":3,"sources":["c:/Users/HOME/Documents/ymillonga/front/pages/api/google.js"],"names":["axios","passport","require","handler","req","res","authenticate","err","user","info","console","error","next","status","send","reason","login","loginErr","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,eAAe,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,GAAtB,EAA2B;AACtCJ,EAAAA,QAAQ,CAACK,YAAT,CAAsB,QAAtB,EAAgC,CAACC,GAAD,EAAMC,IAAN,EAAYC,IAAZ,KAAqB;AACjD,QAAIF,GAAJ,EAAS;AACLG,MAAAA,OAAO,CAACC,KAAR,CAAcJ,GAAd;AACA,aAAOK,IAAI,CAACL,GAAD,CAAX;AACH;;AACD,QAAIE,IAAJ,EAAU;AACN,aAAOJ,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBL,IAAI,CAACM,MAA1B,CAAP;AACH;;AACD,WAAOX,GAAG,CAACY,KAAJ,CAAUR,IAAV,EAAgB,MAAOS,QAAP,IAAoB;AACvC,UAAIA,QAAJ,EAAc;AACVP,QAAAA,OAAO,CAACC,KAAR,CAAcM,QAAd;AACA,eAAOL,IAAI,CAACK,QAAD,CAAX;AACH;;AACDP,MAAAA,OAAO,CAACQ,GAAR,CAAYV,IAAZ,EALuC,CAMvC;AACH,KAPM,CAAP;AAQH,GAhBD;AAkBH","sourcesContent":["import axios from 'axios';\r\nconst passport = require('passport');\r\nexport default function handler(req, res) {\r\n    passport.authenticate('google', (err, user, info) => {\r\n        if (err) {\r\n            console.error(err);\r\n            return next(err);\r\n        }\r\n        if (info) {\r\n            return res.status(401).send(info.reason);\r\n        }\r\n        return req.login(user, async (loginErr) => {\r\n            if (loginErr) {\r\n                console.error(loginErr);\r\n                return next(loginErr);\r\n            }\r\n            console.log(user);\r\n            // axios.post();\r\n        })\r\n    })\r\n\r\n}"]},"metadata":{},"sourceType":"module"}