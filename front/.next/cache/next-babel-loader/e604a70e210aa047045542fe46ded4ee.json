{"ast":null,"code":"import _styled from \"@emotion/styled/base\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\HOME\\\\Documents\\\\ymillonga\\\\front\\\\components\\\\PostCard.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport React, { useState, useCallback } from 'react';\nimport { Card, Button, Avatar, Popover, List, Comment } from 'antd';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport Link from 'next/link';\nimport { RetweetOutlined, HeartTwoTone, HeartOutlined, MessageOutlined, EllipsisOutlined } from '@ant-design/icons';\nimport CommentForm from './CommentForm';\nimport PostImages from './PostImages';\nimport FollowButton from './FollowButton';\nimport PostCardContent from './PostCardContent';\nimport { REMOVE_POST_REQUEST, LIKE_POST_REQUEST, UNLIKE_POST_REQUEST, RETWEET_REQUEST, UPDATE_POST_REQUEST } from '../reducers/post';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\nmoment.locale('ko');\n\nvar CardWrapper = _styled(\"div\", {\n  target: \"eez0ku0\",\n  label: \"CardWrapper\"\n})(false ? {\n  name: \"1azpx8r\",\n  styles: \"margin-bottom:20px\"\n} : {\n  name: \"1azpx8r\",\n  styles: \"margin-bottom:20px\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcSE9NRVxcRG9jdW1lbnRzXFx5bWlsbG9uZ2FcXGZyb250XFxjb21wb25lbnRzXFxQb3N0Q2FyZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE2QjhCIiwiZmlsZSI6IkM6XFxVc2Vyc1xcSE9NRVxcRG9jdW1lbnRzXFx5bWlsbG9uZ2FcXGZyb250XFxjb21wb25lbnRzXFxQb3N0Q2FyZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IENhcmQsIEJ1dHRvbiwgQXZhdGFyLCBQb3BvdmVyLCBMaXN0LCBDb21tZW50IH0gZnJvbSAnYW50ZCc7XHJcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XHJcbmltcG9ydCB7IHVzZVNlbGVjdG9yLCB1c2VEaXNwYXRjaCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcclxuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xyXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XHJcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluayc7XHJcbmltcG9ydCB7XHJcbiAgICBSZXR3ZWV0T3V0bGluZWQsXHJcbiAgICBIZWFydFR3b1RvbmUsXHJcbiAgICBIZWFydE91dGxpbmVkLFxyXG4gICAgTWVzc2FnZU91dGxpbmVkLFxyXG4gICAgRWxsaXBzaXNPdXRsaW5lZFxyXG59IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zJztcclxuXHJcbmltcG9ydCBDb21tZW50Rm9ybSBmcm9tICcuL0NvbW1lbnRGb3JtJztcclxuaW1wb3J0IFBvc3RJbWFnZXMgZnJvbSAnLi9Qb3N0SW1hZ2VzJztcclxuaW1wb3J0IEZvbGxvd0J1dHRvbiBmcm9tICcuL0ZvbGxvd0J1dHRvbic7XHJcbmltcG9ydCBQb3N0Q2FyZENvbnRlbnQgZnJvbSAnLi9Qb3N0Q2FyZENvbnRlbnQnO1xyXG5pbXBvcnQge1xyXG4gICAgUkVNT1ZFX1BPU1RfUkVRVUVTVCxcclxuICAgIExJS0VfUE9TVF9SRVFVRVNULFxyXG4gICAgVU5MSUtFX1BPU1RfUkVRVUVTVCxcclxuICAgIFJFVFdFRVRfUkVRVUVTVCxcclxuICAgIFVQREFURV9QT1NUX1JFUVVFU1QsXHJcbn0gZnJvbSAnLi4vcmVkdWNlcnMvcG9zdCc7XHJcblxyXG5cclxubW9tZW50LmxvY2FsZSgna28nKTtcclxuY29uc3QgQ2FyZFdyYXBwZXIgPSBzdHlsZWQuZGl2YFxyXG5tYXJnaW4tYm90dG9tOiAyMHB4O2BcclxuY29uc3QgUG9zdENhcmQgPSAoeyBwb3N0IH0pID0+IHtcclxuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcclxuICAgIGNvbnN0IGlkID0gdXNlU2VsZWN0b3IoKHN0YXRlKSA9PiBzdGF0ZS51c2VyLm1lPy5pZCk7XHJcblxyXG4gICAgY29uc3QgW2NvbW1lbnRGb3JtT3BlbmVkLCBzZXRDb21tZW50Rm9ybU9wZW5lZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgICBjb25zdCBbZWRpdE1vZGUsIHNldEVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICAgIGNvbnN0IHsgcmVtb3ZlUG9zdExvYWRpbmcgfSA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLnBvc3QpO1xyXG5cclxuICAgIGNvbnN0IG9uTGlrZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICBpZiAoIWlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhbGVydCgn66Gc6re47J247J20IO2VhOyalO2VqeuLiOuLpC4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcclxuICAgICAgICAgICAgdHlwZTogTElLRV9QT1NUX1JFUVVFU1QsXHJcbiAgICAgICAgICAgIGRhdGE6IHBvc3QuaWQsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbaWRdKTtcclxuICAgIGNvbnN0IG9uVW5saWtlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGlmICghaWQpIGFsZXJ0KCfroZzqt7jsnbjsnbQg7ZWE7JqU7ZWp64uI64ukJyk7XHJcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKHtcclxuICAgICAgICAgICAgdHlwZTogVU5MSUtFX1BPU1RfUkVRVUVTVCxcclxuICAgICAgICAgICAgZGF0YTogcG9zdC5pZCxcclxuICAgICAgICB9KTtcclxuICAgIH0sIFtpZF0pO1xyXG4gICAgY29uc3Qgb25SZW1vdmVQb3N0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGlmICghaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KCfroZzqt7jsnbjsnbQg7ZWE7JqU7ZWp64uI64ukJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaXNwYXRjaCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFJFTU9WRV9QT1NUX1JFUVVFU1QsXHJcbiAgICAgICAgICAgIGRhdGE6IHBvc3QuaWQsXHJcbiAgICAgICAgfSlcclxuICAgIH0sIFtpZF0pO1xyXG4gICAgY29uc3Qgb25SZXR3ZWV0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgICAgIGlmICghaWQpIGFsZXJ0KCfroZzqt7jsnbjsnbQg7ZWE7JqU7ZWp64uI64ukJyk7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICB0eXBlOiBSRVRXRUVUX1JFUVVFU1QsXHJcbiAgICAgICAgICAgIGRhdGE6IHBvc3QuaWQsXHJcbiAgICAgICAgfSlcclxuICAgIH0sIFtpZF0pO1xyXG5cclxuXHJcbiAgICBjb25zdCBvblRvZ2dsZUNvbW1lbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgc2V0Q29tbWVudEZvcm1PcGVuZWQoKHByZXYpID0+ICFwcmV2KTtcclxuICAgIH0sIFtpZF0pO1xyXG5cclxuICAgIGNvbnN0IG9uQ2xpY2tVcGRhdGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgc2V0RWRpdE1vZGUodHJ1ZSk7XHJcbiAgICB9LCBbXSk7XHJcbiAgICBjb25zdCBvbkNhbmNlbFVwZGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgICAgICBzZXRFZGl0TW9kZShmYWxzZSk7O1xyXG4gICAgfSwgW10pO1xyXG4gICAgY29uc3Qgb25DaGFuZ2VQb3N0ID0gdXNlQ2FsbGJhY2soKGVkaXRUZXh0KSA9PiAoKSA9PiB7XHJcbiAgICAgICAgZGlzcGF0Y2goe1xyXG4gICAgICAgICAgICB0eXBlOiBVUERBVEVfUE9TVF9SRVFVRVNULFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBQb3N0SWQ6IHBvc3QuaWQsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBlZGl0VGV4dCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0sIFtwb3N0XSk7XHJcbiAgICBjb25zdCBsaWtlZCA9IHBvc3QuTGlrZXJzPy5maW5kKCh2KSA9PiB2LmlkID09PSBpZCk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIDxDYXJkV3JhcHBlciBrZXk9e3Bvc3QuaWR9PlxyXG4gICAgICAgICAgICA8Q2FyZFxyXG4gICAgICAgICAgICAgICAgY292ZXI9e3Bvc3Q/LkltYWdlc1swXSAmJiA8UG9zdEltYWdlcyBpbWFnZXM9e3Bvc3Q/LkltYWdlc30gLz59XHJcbiAgICAgICAgICAgICAgICBhY3Rpb25zPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgPFJldHdlZXRPdXRsaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblJldHdlZXR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cInJldHdlZXRcIiAvPixcclxuICAgICAgICAgICAgICAgICAgICBsaWtlZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxIZWFydFR3b1RvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImhlYXJ0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3b1RvbmVDb2xvcj1cIiNlYjJmOTZcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25Vbmxpa2V9IC8+IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEhlYXJ0T3V0bGluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cImhlYXJ0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uTGlrZX0gLz4sXHJcbiAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VPdXRsaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJtZXNzYWdlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25Ub2dnbGVDb21tZW50fSAvPixcclxuICAgICAgICAgICAgICAgICAgICA8UG9wb3ZlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJlbGxpcHNpc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9eyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24uR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lkICYmIHBvc3QuVXNlci5pZCA9PT0gaWQgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e29uQ2xpY2tVcGRhdGV9PuyImOyglTwvQnV0dG9uPn1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJkYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblJlbW92ZVBvc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc9e3JlbW92ZVBvc3RMb2FkaW5nfSA+7IKt7KCcPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24+7Iug6rOg7ZWY6riwPC9CdXR0b24+fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24uR3JvdXA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8RWxsaXBzaXNPdXRsaW5lZCAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvUG9wb3Zlcj4sXHJcbiAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgZXh0cmE9e2lkICYmIDxGb2xsb3dCdXR0b24gcG9zdD17cG9zdH0gLz59XHJcbiAgICAgICAgICAgICAgICB0aXRsZT17cG9zdC5SZXR3ZWV0SWQgPyBgJHtwb3N0LlVzZXIubmlja25hbWV964uY7J20IOumrO2KuOycl+2VmOyFqOyKteuLiOuLpC5gIDogbnVsbH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3Bvc3QuUmV0d2VldElkICYmIHBvc3QuUmV0d2VldCA/XHJcbiAgICAgICAgICAgICAgICAgICAgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY292ZXI9e3Bvc3QuUmV0d2VldC5JbWFnZXNbMF0gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UG9zdEltYWdlcyBpbWFnZXM9e3Bvc3QuUmV0d2VldC5JbWFnZXN9IC8+fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxvYXQ6ICdyaWdodCcgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21vbWVudChwb3N0LlJldHdlZXQuY3JlYXRlZEF0KS5zdGFydE9mKCdob3VyJykuZnJvbU5vdygpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2FyZC5NZXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyPXsoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rIGhyZWY9e2AvdXNlci8ke3Bvc3QuUmV0d2VldC5Vc2VySWR9YH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZldGNoPXtmYWxzZX0+PGE+PEF2YXRhcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cG9zdC5SZXR3ZWV0LlVzZXIubmlja25hbWVbMF19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0F2YXRhcj48L2E+PC9MaW5rPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3Bvc3QuUmV0d2VldC5Vc2VyLm5pY2tuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvc3RDYXJkQ29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxVcGRhdGU9e29uQ2FuY2VsVXBkYXRlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2VQb3N0PXtvbkNoYW5nZVBvc3R9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0TW9kZT17ZWRpdE1vZGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0RGF0YT17cG9zdC5SZXR3ZWV0LmNvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsb2F0OiAncmlnaHQnIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttb21lbnQocG9zdC5jcmVhdGVkQXQpLnN0YXJ0T2YoJ2hvdXInKS5mcm9tTm93KCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDYXJkLk1ldGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI9eyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmsgaHJlZj17YC91c2VyLyR7cG9zdC5Vc2VyLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVmZXRjaD17ZmFsc2V9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGE+PEF2YXRhcj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cG9zdC5Vc2VyLm5pY2tuYW1lWzBdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9BdmF0YXI+PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0xpbms+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17cG9zdC5Vc2VyLm5pY2tuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFBvc3RDYXJkQ29udGVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE1vZGU9e2VkaXRNb2RlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DYW5jZWxVcGRhdGU9e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2FuY2VsVXBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZVBvc3Q9e29uQ2hhbmdlUG9zdH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3REYXRhPXtwb3N0LmNvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgICAgICB7Y29tbWVudEZvcm1PcGVuZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICA8Q29tbWVudEZvcm0gcG9zdD17cG9zdH0gLz5cclxuICAgICAgICAgICAgICAgICAgICA8TGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI9e2DrjJPquIA6ICR7cG9zdC5Db21tZW50cyA/IHBvc3QuQ29tbWVudHMubGVuZ3RoIDogMH3qsJxgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtTGF5b3V0PSdob3Jpem9udGFsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU291cmNlPXtwb3N0LkNvbW1lbnRzIHx8IFtdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJJdGVtPXsoaXRlbSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcj17aXRlbS5Vc2VyLm5pY2tuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI9eyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17YC91c2VyLyR7aXRlbS5Vc2VyLmlkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlZmV0Y2g9e2ZhbHNlfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEF2YXRhcj57aXRlbS5Vc2VyLm5pY2tuYW1lWzBdfTwvQXZhdGFyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD17aXRlbS5jb250ZW50fSAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX0gLz5cclxuICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgIDwvQ2FyZFdyYXBwZXIgPlxyXG4gICAgKTtcclxufTtcclxuUG9zdENhcmQucHJvcFR5cGVzID0ge1xyXG4gICAgcG9zdDogUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgICAgICBpZDogUHJvcFR5cGVzLm51bWJlcixcclxuICAgICAgICBVc2VyOiBQcm9wVHlwZXMub2JqZWN0LFxyXG4gICAgICAgIGNvbnRlbnQ6IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgICAgICAgY3JlYXRlZEF0OiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gICAgICAgIENvbW1lbnRzOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuYW55KSxcclxuICAgICAgICBJbWFnZXM6IFByb3BUeXBlcy5hcnJheU9mKFByb3BUeXBlcy5hbnkpLFxyXG4gICAgICAgIExpa2VyczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9iamVjdCksXHJcbiAgICAgICAgUmV0d2VldElkOiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgICAgIFJldHdlZXQ6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMuYW55KSxcclxuICAgIH0pLmlzUmVxdWlyZWQsXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IFBvc3RDYXJkOyJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nvar PostCard = function PostCard(_ref) {\n  _s();\n\n  var _post$Likers;\n\n  var post = _ref.post;\n  var dispatch = useDispatch();\n  var id = useSelector(function (state) {\n    var _state$user$me;\n\n    return (_state$user$me = state.user.me) === null || _state$user$me === void 0 ? void 0 : _state$user$me.id;\n  });\n\n  var _useState = useState(false),\n      commentFormOpened = _useState[0],\n      setCommentFormOpened = _useState[1];\n\n  var _useState2 = useState(false),\n      editMode = _useState2[0],\n      setEditMode = _useState2[1];\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      removePostLoading = _useSelector.removePostLoading;\n\n  var onLike = useCallback(function () {\n    if (!id) {\n      return alert('로그인이 필요합니다.');\n    }\n\n    return dispatch({\n      type: LIKE_POST_REQUEST,\n      data: post.id\n    });\n  }, [id]);\n  var onUnlike = useCallback(function () {\n    if (!id) alert('로그인이 필요합니다');\n    return dispatch({\n      type: UNLIKE_POST_REQUEST,\n      data: post.id\n    });\n  }, [id]);\n  var onRemovePost = useCallback(function () {\n    if (!id) {\n      return alert('로그인이 필요합니다');\n    }\n\n    return dispatch({\n      type: REMOVE_POST_REQUEST,\n      data: post.id\n    });\n  }, [id]);\n  var onRetweet = useCallback(function () {\n    if (!id) alert('로그인이 필요합니다');\n    dispatch({\n      type: RETWEET_REQUEST,\n      data: post.id\n    });\n  }, [id]);\n  var onToggleComment = useCallback(function () {\n    setCommentFormOpened(function (prev) {\n      return !prev;\n    });\n  }, [id]);\n  var onClickUpdate = useCallback(function () {\n    setEditMode(true);\n  }, []);\n  var onCancelUpdate = useCallback(function () {\n    setEditMode(false);\n    ;\n  }, []);\n  var onChangePost = useCallback(function (editText) {\n    return function () {\n      dispatch({\n        type: UPDATE_POST_REQUEST,\n        data: {\n          PostId: post.id,\n          content: editText\n        }\n      });\n    };\n  }, [post]);\n  var liked = (_post$Likers = post.Likers) === null || _post$Likers === void 0 ? void 0 : _post$Likers.find(function (v) {\n    return v.id === id;\n  });\n  return ___EmotionJSX(CardWrapper, {\n    key: post.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    },\n    __self: _this\n  }, ___EmotionJSX(Card, {\n    cover: (post === null || post === void 0 ? void 0 : post.Images[0]) && ___EmotionJSX(PostImages, {\n      images: post === null || post === void 0 ? void 0 : post.Images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 43\n      },\n      __self: _this\n    }),\n    actions: [___EmotionJSX(RetweetOutlined, {\n      onClick: onRetweet,\n      key: \"retweet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      },\n      __self: _this\n    }), liked ? ___EmotionJSX(HeartTwoTone, {\n      key: \"heart\",\n      twoToneColor: \"#eb2f96\",\n      onClick: onUnlike,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 25\n      },\n      __self: _this\n    }) : ___EmotionJSX(HeartOutlined, {\n      key: \"heart\",\n      onClick: onLike,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 25\n      },\n      __self: _this\n    }), ___EmotionJSX(MessageOutlined, {\n      key: \"message\",\n      onClick: onToggleComment,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      },\n      __self: _this\n    }), ___EmotionJSX(Popover, {\n      key: \"ellipsis\",\n      content: ___EmotionJSX(Button.Group, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        },\n        __self: _this\n      }, id && post.User.id === id ? ___EmotionJSX(React.Fragment, null, ___EmotionJSX(Button, {\n        onClick: onClickUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 46\n        },\n        __self: _this\n      }, \"\\uC218\\uC815\"), ___EmotionJSX(Button, {\n        type: \"danger\",\n        onClick: onRemovePost,\n        loading: removePostLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 45\n        },\n        __self: _this\n      }, \"\\uC0AD\\uC81C\")) : ___EmotionJSX(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 37\n        },\n        __self: _this\n      }, \"\\uC2E0\\uACE0\\uD558\\uAE30\")),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      },\n      __self: _this\n    }, ___EmotionJSX(EllipsisOutlined, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      },\n      __self: _this\n    }))],\n    extra: id && ___EmotionJSX(FollowButton, {\n      post: post,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 30\n      },\n      __self: _this\n    }),\n    title: post.RetweetId ? \"\".concat(post.User.nickname, \"\\uB2D8\\uC774 \\uB9AC\\uD2B8\\uC717\\uD558\\uC168\\uC2B5\\uB2C8\\uB2E4.\") : null,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    },\n    __self: _this\n  }, post.RetweetId && post.Retweet ? ___EmotionJSX(Card, {\n    cover: post.Retweet.Images[0] && ___EmotionJSX(PostImages, {\n      images: post.Retweet.Images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 33\n      },\n      __self: _this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    },\n    __self: _this\n  }, ___EmotionJSX(\"div\", {\n    style: {\n      \"float\": 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    },\n    __self: _this\n  }, moment(post.Retweet.createdAt).startOf('hour').fromNow()), ___EmotionJSX(Card.Meta, {\n    avatar: ___EmotionJSX(Link, {\n      href: \"/user/\".concat(post.Retweet.UserId),\n      prefetch: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 37\n      },\n      __self: _this\n    }, ___EmotionJSX(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 58\n      },\n      __self: _this\n    }, ___EmotionJSX(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 61\n      },\n      __self: _this\n    }, post.Retweet.User.nickname[0]))),\n    title: post.Retweet.User.nickname,\n    description: ___EmotionJSX(PostCardContent, {\n      onCancelUpdate: onCancelUpdate,\n      onChangePost: onChangePost,\n      editMode: editMode,\n      postData: post.Retweet.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 37\n      },\n      __self: _this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    },\n    __self: _this\n  })) : ___EmotionJSX(React.Fragment, null, ___EmotionJSX(\"div\", {\n    style: {\n      \"float\": 'right'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    },\n    __self: _this\n  }, moment(post.createdAt).startOf('hour').fromNow()), ___EmotionJSX(Card.Meta, {\n    avatar: ___EmotionJSX(Link, {\n      href: \"/user/\".concat(post.User.id),\n      prefetch: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 37\n      },\n      __self: _this\n    }, ___EmotionJSX(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 41\n      },\n      __self: _this\n    }, ___EmotionJSX(Avatar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 44\n      },\n      __self: _this\n    }, post.User.nickname[0]))),\n    title: post.User.nickname,\n    description: ___EmotionJSX(PostCardContent, {\n      editMode: editMode,\n      onCancelUpdate: onCancelUpdate,\n      onChangePost: onChangePost,\n      postData: post.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 37\n      },\n      __self: _this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    },\n    __self: _this\n  }))), commentFormOpened && ___EmotionJSX(React.Fragment, null, ___EmotionJSX(CommentForm, {\n    post: post,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    },\n    __self: _this\n  }), ___EmotionJSX(List, {\n    header: \"\\uB313\\uAE00: \".concat(post.Comments ? post.Comments.length : 0, \"\\uAC1C\"),\n    itemLayout: \"horizontal\",\n    dataSource: post.Comments || [],\n    renderItem: function renderItem(item) {\n      return ___EmotionJSX(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 29\n        },\n        __self: _this\n      }, ___EmotionJSX(Comment, {\n        author: item.User.nickname,\n        avatar: ___EmotionJSX(Link, {\n          href: \"/user/\".concat(item.User.id),\n          prefetch: false,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 41\n          },\n          __self: _this\n        }, ___EmotionJSX(\"a\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 45\n          },\n          __self: _this\n        }, ___EmotionJSX(Avatar, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 49\n          },\n          __self: _this\n        }, item.User.nickname[0]))),\n        content: item.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 33\n        },\n        __self: _this\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    },\n    __self: _this\n  })));\n};\n\n_s(PostCard, \"xjtTBTxkQRJsiju8SzRjDIKTyE0=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = PostCard;\nPostCard.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.number,\n    User: PropTypes.object,\n    content: PropTypes.string,\n    createdAt: PropTypes.string,\n    Comments: PropTypes.arrayOf(PropTypes.any),\n    Images: PropTypes.arrayOf(PropTypes.any),\n    Likers: PropTypes.arrayOf(PropTypes.object),\n    RetweetId: PropTypes.number,\n    Retweet: PropTypes.objectOf(PropTypes.any)\n  }).isRequired\n};\nexport default PostCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostCard\");","map":{"version":3,"sources":["C:/Users/HOME/Documents/ymillonga/front/components/PostCard.js"],"names":["React","useState","useCallback","Card","Button","Avatar","Popover","List","Comment","PropTypes","useSelector","useDispatch","moment","Link","RetweetOutlined","HeartTwoTone","HeartOutlined","MessageOutlined","EllipsisOutlined","CommentForm","PostImages","FollowButton","PostCardContent","REMOVE_POST_REQUEST","LIKE_POST_REQUEST","UNLIKE_POST_REQUEST","RETWEET_REQUEST","UPDATE_POST_REQUEST","locale","CardWrapper","PostCard","post","dispatch","id","state","user","me","commentFormOpened","setCommentFormOpened","editMode","setEditMode","removePostLoading","onLike","alert","type","data","onUnlike","onRemovePost","onRetweet","onToggleComment","prev","onClickUpdate","onCancelUpdate","onChangePost","editText","PostId","content","liked","Likers","find","v","Images","User","RetweetId","nickname","Retweet","createdAt","startOf","fromNow","UserId","Comments","length","item","propTypes","shape","number","object","string","arrayOf","any","objectOf","isRequired"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { Card, Button, Avatar, Popover, List, Comment } from 'antd';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport styled from '@emotion/styled';\r\nimport moment from 'moment';\r\nimport Link from 'next/link';\r\nimport {\r\n    RetweetOutlined,\r\n    HeartTwoTone,\r\n    HeartOutlined,\r\n    MessageOutlined,\r\n    EllipsisOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport CommentForm from './CommentForm';\r\nimport PostImages from './PostImages';\r\nimport FollowButton from './FollowButton';\r\nimport PostCardContent from './PostCardContent';\r\nimport {\r\n    REMOVE_POST_REQUEST,\r\n    LIKE_POST_REQUEST,\r\n    UNLIKE_POST_REQUEST,\r\n    RETWEET_REQUEST,\r\n    UPDATE_POST_REQUEST,\r\n} from '../reducers/post';\r\n\r\n\r\nmoment.locale('ko');\r\nconst CardWrapper = styled.div`\r\nmargin-bottom: 20px;`\r\nconst PostCard = ({ post }) => {\r\n    const dispatch = useDispatch();\r\n    const id = useSelector((state) => state.user.me?.id);\r\n\r\n    const [commentFormOpened, setCommentFormOpened] = useState(false);\r\n    const [editMode, setEditMode] = useState(false);\r\n    const { removePostLoading } = useSelector(state => state.post);\r\n\r\n    const onLike = useCallback(() => {\r\n        if (!id) {\r\n            return alert('로그인이 필요합니다.');\r\n        }\r\n        return dispatch({\r\n            type: LIKE_POST_REQUEST,\r\n            data: post.id,\r\n        });\r\n    }, [id]);\r\n    const onUnlike = useCallback(() => {\r\n        if (!id) alert('로그인이 필요합니다');\r\n        return dispatch({\r\n            type: UNLIKE_POST_REQUEST,\r\n            data: post.id,\r\n        });\r\n    }, [id]);\r\n    const onRemovePost = useCallback(() => {\r\n        if (!id) {\r\n            return alert('로그인이 필요합니다');\r\n        }\r\n        return dispatch({\r\n            type: REMOVE_POST_REQUEST,\r\n            data: post.id,\r\n        })\r\n    }, [id]);\r\n    const onRetweet = useCallback(() => {\r\n        if (!id) alert('로그인이 필요합니다');\r\n        dispatch({\r\n            type: RETWEET_REQUEST,\r\n            data: post.id,\r\n        })\r\n    }, [id]);\r\n\r\n\r\n    const onToggleComment = useCallback(() => {\r\n        setCommentFormOpened((prev) => !prev);\r\n    }, [id]);\r\n\r\n    const onClickUpdate = useCallback(() => {\r\n        setEditMode(true);\r\n    }, []);\r\n    const onCancelUpdate = useCallback(() => {\r\n        setEditMode(false);;\r\n    }, []);\r\n    const onChangePost = useCallback((editText) => () => {\r\n        dispatch({\r\n            type: UPDATE_POST_REQUEST,\r\n            data: {\r\n                PostId: post.id,\r\n                content: editText,\r\n            },\r\n        });\r\n    }, [post]);\r\n    const liked = post.Likers?.find((v) => v.id === id);\r\n    return (\r\n        <CardWrapper key={post.id}>\r\n            <Card\r\n                cover={post?.Images[0] && <PostImages images={post?.Images} />}\r\n                actions={[\r\n                    <RetweetOutlined\r\n                        onClick={onRetweet}\r\n                        key=\"retweet\" />,\r\n                    liked ?\r\n                        <HeartTwoTone\r\n                            key=\"heart\"\r\n                            twoToneColor=\"#eb2f96\"\r\n                            onClick={onUnlike} /> :\r\n                        <HeartOutlined\r\n                            key=\"heart\"\r\n                            onClick={onLike} />,\r\n                    <MessageOutlined\r\n                        key=\"message\"\r\n                        onClick={onToggleComment} />,\r\n                    <Popover\r\n                        key=\"ellipsis\"\r\n                        content={(\r\n                            <Button.Group>\r\n                                {id && post.User.id === id ?\r\n                                    (\r\n                                        <>\r\n                                            {<Button\r\n                                                onClick={onClickUpdate}>수정</Button>}\r\n                                            <Button\r\n                                                type=\"danger\"\r\n                                                onClick={onRemovePost}\r\n                                                loading={removePostLoading} >삭제</Button>\r\n                                        </>\r\n                                    ) :\r\n                                    <Button>신고하기</Button>}\r\n                            </Button.Group>\r\n                        )}>\r\n                        <EllipsisOutlined />\r\n                    </Popover>,\r\n                ]}\r\n                extra={id && <FollowButton post={post} />}\r\n                title={post.RetweetId ? `${post.User.nickname}님이 리트윗하셨습니다.` : null}\r\n            >\r\n                {post.RetweetId && post.Retweet ?\r\n                    (\r\n                        <Card\r\n                            cover={post.Retweet.Images[0] &&\r\n                                <PostImages images={post.Retweet.Images} />}>\r\n                            <div style={{ float: 'right' }}>\r\n                                {moment(post.Retweet.createdAt).startOf('hour').fromNow()}\r\n                            </div>\r\n                            <Card.Meta\r\n                                avatar={(\r\n                                    <Link href={`/user/${post.Retweet.UserId}`}\r\n                                        prefetch={false}><a><Avatar>\r\n                                            {post.Retweet.User.nickname[0]}\r\n                                        </Avatar></a></Link>\r\n                                )}\r\n                                title={post.Retweet.User.nickname}\r\n                                description={\r\n                                    <PostCardContent\r\n                                        onCancelUpdate={onCancelUpdate}\r\n                                        onChangePost={onChangePost}\r\n                                        editMode={editMode}\r\n                                        postData={post.Retweet.content}\r\n                                    />\r\n                                }\r\n                            />\r\n                        </Card>\r\n                    ) : (\r\n                        <>\r\n                            <div style={{ float: 'right' }}>\r\n                                {moment(post.createdAt).startOf('hour').fromNow()}\r\n                            </div>\r\n                            <Card.Meta\r\n                                avatar={(\r\n                                    <Link href={`/user/${post.User.id}`}\r\n                                        prefetch={false}>\r\n                                        <a><Avatar>\r\n                                            {post.User.nickname[0]}\r\n                                        </Avatar></a>\r\n                                    </Link>\r\n                                )}\r\n                                title={post.User.nickname}\r\n                                description={\r\n                                    <PostCardContent\r\n                                        editMode={editMode}\r\n                                        onCancelUpdate={\r\n                                            onCancelUpdate\r\n                                        }\r\n                                        onChangePost={onChangePost}\r\n                                        postData={post.content}\r\n                                    />\r\n                                }\r\n                            />\r\n                        </>\r\n                    )}\r\n            </Card>\r\n            {commentFormOpened && (\r\n                <>\r\n                    <CommentForm post={post} />\r\n                    <List\r\n                        header={`댓글: ${post.Comments ? post.Comments.length : 0}개`}\r\n                        itemLayout='horizontal'\r\n                        dataSource={post.Comments || []}\r\n                        renderItem={(item) => (\r\n                            <li>\r\n                                <Comment\r\n                                    author={item.User.nickname}\r\n                                    avatar={(\r\n                                        <Link\r\n                                            href={`/user/${item.User.id}`}\r\n                                            prefetch={false}>\r\n                                            <a>\r\n                                                <Avatar>{item.User.nickname[0]}</Avatar>\r\n                                            </a>\r\n                                        </Link>\r\n                                    )}\r\n                                    content={item.content} />\r\n                            </li>\r\n                        )} />\r\n                </>\r\n            )}\r\n        </CardWrapper >\r\n    );\r\n};\r\nPostCard.propTypes = {\r\n    post: PropTypes.shape({\r\n        id: PropTypes.number,\r\n        User: PropTypes.object,\r\n        content: PropTypes.string,\r\n        createdAt: PropTypes.string,\r\n        Comments: PropTypes.arrayOf(PropTypes.any),\r\n        Images: PropTypes.arrayOf(PropTypes.any),\r\n        Likers: PropTypes.arrayOf(PropTypes.object),\r\n        RetweetId: PropTypes.number,\r\n        Retweet: PropTypes.objectOf(PropTypes.any),\r\n    }).isRequired,\r\n};\r\nexport default PostCard;"]},"metadata":{},"sourceType":"module"}