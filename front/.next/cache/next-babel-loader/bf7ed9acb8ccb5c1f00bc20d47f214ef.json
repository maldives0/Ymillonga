{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from 'react';\n\nvar refreshTokenSetup = function refreshTokenSetup(res) {\n  var refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\n\n  var refreshToken = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\n              console.log('newAuthRes:', newAuthRes);\n              console.log('new auth Token', newAuthRes.id_token);\n              setTimeout(refreshToken, refreshTiming);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function refreshToken() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  setTimeout(refreshToken, refreshTiming);\n};\n\nexport default refreshTokenSetup;","map":{"version":3,"sources":["C:/Users/HOME/Documents/ymillonga/front/utils/refreshToken.js"],"names":["React","refreshTokenSetup","res","refreshTiming","tokenObj","expires_in","refreshToken","newAuthRes","console","log","id_token","setTimeout"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,GAAD,EAAS;AAC/B,MAAIC,aAAa,GAAG,CAACD,GAAG,CAACE,QAAJ,CAAaC,UAAb,IAA2B,OAAO,IAAI,EAAvC,IAA6C,IAAjE;;AACA,MAAMC,YAAY;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AACjBH,cAAAA,aAAa,GAAG,CAACI,UAAU,CAACF,UAAX,IAAyB,OAAO,IAAI,EAArC,IAA2C,IAA3D;AACAG,cAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,UAA3B;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,UAAU,CAACG,QAAzC;AACAC,cAAAA,UAAU,CAACL,YAAD,EAAeH,aAAf,CAAV;;AAJiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZG,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAMAK,EAAAA,UAAU,CAACL,YAAD,EAAeH,aAAf,CAAV;AACH,CATD;;AAUA,eAAeF,iBAAf","sourcesContent":["import React from 'react';\r\n\r\nconst refreshTokenSetup = (res) => {\r\n    let refreshTiming = (res.tokenObj.expires_in || 3600 - 5 * 60) * 1000;\r\n    const refreshToken = async () => {\r\n        refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000;\r\n        console.log('newAuthRes:', newAuthRes);\r\n        console.log('new auth Token', newAuthRes.id_token);\r\n        setTimeout(refreshToken, refreshTiming);\r\n    };\r\n    setTimeout(refreshToken, refreshTiming);\r\n};\r\nexport default refreshTokenSetup;"]},"metadata":{},"sourceType":"module"}