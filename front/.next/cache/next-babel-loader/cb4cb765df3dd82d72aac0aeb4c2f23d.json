{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\HOME\\\\Documents\\\\ymillonga\\\\front\\\\components\\\\LoginForm.js\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { Form, Input, Button, Row, Divider } from 'antd';\nimport Link from 'next/link';\nimport useInput from '../hooks/useInput';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { LOG_IN_REQUEST } from '../reducers/user';\nimport FacebookLoginBtn from './FacebookLoginBtn';\nimport GoogleLoginBtn from './GoogleLoginBtn';\nimport { useRouter } from 'next/router';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst layout = {\n  wrapperCol: {\n    xs: {\n      span: 12,\n      offset: 8\n    },\n    sm: {\n      span: 8,\n      offset: 8\n    },\n    md: {\n      span: 8,\n      offset: 8\n    }\n  }\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16\n  }\n};\n\nconst LoginForm = () => {\n  const Router = useRouter();\n  const {\n    logInLoading,\n    logInError,\n    me\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const [email, onChangeEmail] = useInput('');\n  const [password, onChangePassword] = useInput('');\n  const {\n    0: basicButtonClicked,\n    1: setBasicButtonClicked\n  } = useState(false);\n  useEffect(() => {\n    if (me && me.id) {\n      alert('로그인 중입니다. 메인페이지로 이동합니다.');\n      Router.replace('/'); //push는 뒤로가기 하면 히스토리가 남아있지만 replace는 지워짐\n    }\n  }, [me && me.id]);\n  useEffect(() => {\n    if (logInError) alert(logInError);\n  }, [logInError]);\n  const onClickBasicButton = useCallback(() => {\n    setBasicButtonClicked(true);\n  }, []);\n  const onSubmitForm = useCallback(() => {\n    if (basicButtonClicked) {\n      dispatch({\n        type: LOG_IN_REQUEST,\n        data: {\n          email,\n          password\n        }\n      });\n    }\n  }, [email, password, basicButtonClicked]);\n  return ___EmotionJSX(Form, _extends({}, layout, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onSubmitForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    },\n    __self: this\n  }), ___EmotionJSX(Form.Item, {\n    name: \"username\",\n    rules: [{\n      required: basicButtonClicked,\n      message: 'Please input your username!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    },\n    __self: this\n  }, ___EmotionJSX(Input, {\n    prefix: ___EmotionJSX(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 32\n      },\n      __self: this\n    }),\n    placeholder: \"Username\",\n    value: email,\n    onChange: onChangeEmail,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    },\n    __self: this\n  })), ___EmotionJSX(Form.Item, {\n    name: \"password\",\n    rules: [{\n      required: basicButtonClicked,\n      message: 'Please input your password!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    },\n    __self: this\n  }, ___EmotionJSX(Input, {\n    prefix: ___EmotionJSX(LockOutlined, {\n      className: \"site-form-item-icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 29\n      },\n      __self: this\n    }),\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: onChangePassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    },\n    __self: this\n  })), ___EmotionJSX(Form.Item, _extends({}, tailLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    },\n    __self: this\n  }), ___EmotionJSX(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    },\n    __self: this\n  }, ___EmotionJSX(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: logInLoading,\n    onClick: onClickBasicButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    },\n    __self: this\n  }, \"\\uB85C\\uADF8\\uC778\"), ___EmotionJSX(Divider, {\n    type: \"vertical\",\n    style: {\n      border: 'none'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    },\n    __self: this\n  }), ___EmotionJSX(Link, {\n    href: \"/signup\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    },\n    __self: this\n  }, ___EmotionJSX(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 42\n    },\n    __self: this\n  }, ___EmotionJSX(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 45\n    },\n    __self: this\n  }, \"\\uD68C\\uC6D0\\uAC00\\uC785\"))))), ___EmotionJSX(Form.Item, _extends({}, tailLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    },\n    __self: this\n  }), ___EmotionJSX(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    },\n    __self: this\n  }, ___EmotionJSX(GoogleLoginBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    },\n    __self: this\n  }), ___EmotionJSX(FacebookLoginBtn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    },\n    __self: this\n  }))));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/HOME/Documents/ymillonga/front/components/LoginForm.js"],"names":["React","useEffect","useState","useCallback","Form","Input","Button","Row","Divider","Link","useInput","UserOutlined","LockOutlined","useSelector","useDispatch","LOG_IN_REQUEST","FacebookLoginBtn","GoogleLoginBtn","useRouter","layout","wrapperCol","xs","span","offset","sm","md","tailLayout","LoginForm","Router","logInLoading","logInError","me","state","user","dispatch","email","onChangeEmail","password","onChangePassword","basicButtonClicked","setBasicButtonClicked","id","alert","replace","onClickBasicButton","onSubmitForm","type","data","remember","required","message","border"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport { Form, Input, Button, Row, Divider } from 'antd';\r\nimport Link from 'next/link';\r\nimport useInput from '../hooks/useInput';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { LOG_IN_REQUEST } from '../reducers/user';\r\nimport FacebookLoginBtn from './FacebookLoginBtn';\r\nimport GoogleLoginBtn from './GoogleLoginBtn';\r\nimport { useRouter } from 'next/router';\r\nconst layout = {\r\n    wrapperCol: {\r\n        xs: { span: 12, offset: 8 },\r\n        sm: { span: 8, offset: 8 },\r\n        md: { span: 8, offset: 8 },\r\n    },\r\n};\r\nconst tailLayout = {\r\n    wrapperCol: { offset: 8, span: 16 },\r\n};\r\nconst LoginForm = () => {\r\n    const Router = useRouter();\r\n    const { logInLoading, logInError, me } = useSelector((state) => state.user);\r\n    const dispatch = useDispatch();\r\n    const [email, onChangeEmail] = useInput('');\r\n    const [password, onChangePassword] = useInput('');\r\n    const [basicButtonClicked, setBasicButtonClicked] = useState(false);\r\n    useEffect(() => {\r\n        if (me && me.id) {\r\n            alert('로그인 중입니다. 메인페이지로 이동합니다.');\r\n            Router.replace('/');//push는 뒤로가기 하면 히스토리가 남아있지만 replace는 지워짐\r\n        }\r\n    }, [me && me.id]);\r\n\r\n    useEffect(() => {\r\n        if (logInError) alert(logInError);\r\n    }, [logInError]);\r\n\r\n    const onClickBasicButton = useCallback(() => {\r\n        setBasicButtonClicked(true);\r\n    }, []);\r\n\r\n    const onSubmitForm = useCallback(() => {\r\n        if (basicButtonClicked) {\r\n            dispatch({\r\n                type: LOG_IN_REQUEST,\r\n                data: { email, password },\r\n            });\r\n        }\r\n    }, [email, password, basicButtonClicked]);\r\n\r\n\r\n    return (\r\n        <Form\r\n            {...layout}\r\n            name=\"basic\"\r\n            initialValues={{\r\n                remember: true,\r\n            }}\r\n            onFinish={onSubmitForm}\r\n        >\r\n            <Form.Item\r\n                name=\"username\"\r\n                rules={[\r\n                    {\r\n                        required: basicButtonClicked,\r\n                        message: 'Please input your username!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n                    placeholder=\"Username\"\r\n                    value={email}\r\n                    onChange={onChangeEmail} />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n                name=\"password\"\r\n                rules={[\r\n                    {\r\n                        required: basicButtonClicked,\r\n                        message: 'Please input your password!',\r\n                    },\r\n                ]}\r\n            >\r\n                <Input\r\n                    prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={onChangePassword}\r\n                />\r\n            </Form.Item>\r\n\r\n            <Form.Item {...tailLayout} >\r\n                <Row >\r\n                    <Button type=\"primary\" htmlType=\"submit\"\r\n                        loading={logInLoading}\r\n                        onClick={onClickBasicButton}\r\n                    >\r\n                        로그인\r\n            </Button>\r\n                    <Divider type=\"vertical\" style={{ border: 'none' }} />\r\n                    <Link href=\"/signup\"><a><Button>\r\n                        회원가입\r\n            </Button></a></Link>\r\n                </Row>\r\n            </Form.Item>\r\n            <Form.Item {...tailLayout} >\r\n                <Row >\r\n                    <GoogleLoginBtn />\r\n                    <FacebookLoginBtn />\r\n                </Row>\r\n            </Form.Item>\r\n        </Form>\r\n    );\r\n\r\n\r\n};\r\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}