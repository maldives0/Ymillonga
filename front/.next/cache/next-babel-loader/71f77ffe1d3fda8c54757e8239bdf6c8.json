{"ast":null,"code":"const data = [];\n\nfunction shouldFail() {\n  return Math.random() > 0.8;\n}\n\nexport default ((req, res) => {\n  if (req.method === 'POST') {\n    const body = JSON.parse(req.body); // sometimes it will fail, this will cause a regression on the UI\n\n    if (!shouldFail()) {\n      data.push(body.text);\n      console.log('1', data);\n    }\n\n    res.json(data);\n    return;\n  }\n\n  setTimeout(() => {\n    console.log('2', data);\n    res.json(data);\n  }, 2000);\n});","map":{"version":3,"sources":["C:/Users/HOME/Documents/ymillonga/front/pages/api/data.js"],"names":["data","shouldFail","Math","random","req","res","method","body","JSON","parse","push","text","console","log","json","setTimeout"],"mappings":"AAAA,MAAMA,IAAI,GAAG,EAAb;;AAEA,SAASC,UAAT,GAAsB;AAClB,SAAOC,IAAI,CAACC,MAAL,KAAgB,GAAvB;AACH;;AAED,gBAAe,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzB,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACvB,UAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,GAAG,CAACG,IAAf,CAAb,CADuB,CAEvB;;AACA,QAAI,CAACN,UAAU,EAAf,EAAmB;AACfD,MAAAA,IAAI,CAACU,IAAL,CAAUH,IAAI,CAACI,IAAf;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBb,IAAjB;AACH;;AACDK,IAAAA,GAAG,CAACS,IAAJ,CAASd,IAAT;AACA;AACH;;AAEDe,EAAAA,UAAU,CAAC,MAAM;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBb,IAAjB;AACAK,IAAAA,GAAG,CAACS,IAAJ,CAASd,IAAT;AACH,GAHS,EAGP,IAHO,CAAV;AAIH,CAhBD","sourcesContent":["const data = []\r\n\r\nfunction shouldFail() {\r\n    return Math.random() > 0.8\r\n}\r\n\r\nexport default (req, res) => {\r\n    if (req.method === 'POST') {\r\n        const body = JSON.parse(req.body)\r\n        // sometimes it will fail, this will cause a regression on the UI\r\n        if (!shouldFail()) {\r\n            data.push(body.text);\r\n            console.log('1', data);\r\n        }\r\n        res.json(data)\r\n        return\r\n    }\r\n\r\n    setTimeout(() => {\r\n        console.log('2', data);\r\n        res.json(data)\r\n    }, 2000)\r\n}"]},"metadata":{},"sourceType":"module"}